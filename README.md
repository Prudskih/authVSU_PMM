# Flask-приложение с авторизацией и хранением PDF-файлов

Учебный проект на Flask, реализующий авторизацию пользователей, ролевую модель доступа и работу с PDF-файлами.  
Приложение позволяет загружать и просматривать PDF-файлы с учётом прав доступа.

---

## Роли пользователей и права доступа

В системе предусмотрены две роли: **user** и **admin**.

### Пользователь (user)
- может загружать PDF-файлы;
- видит только файлы, которые загрузил сам;
- может просматривать только свои файлы;
- не имеет доступа к административной панели.

### Администратор (admin)
- может загружать PDF-файлы;
- видит все загруженные файлы;
- может просматривать любые файлы;
- имеет доступ к административной панели управления пользователями.

Проверка прав доступа выполняется на стороне сервера.

---

## Хранение данных

### Пользователи
Данные пользователей хранятся локально в файле: data/users.json


Хранилище используется для сохранения пользователей, их ролей и паролей между перезапусками приложения.  
Для каждого пользователя сохраняются:
- имя пользователя;
- хэш пароля;
- роль (user или admin).

### Файлы
PDF-файлы сохраняются локально в каталоге: uploads/


Каждый файл хранится в двух частях:
- зашифрованное содержимое (`.enc`);
- цифровая подпись (`.sig`).

Имя файла в хранилище формируется по шаблону: <username>_<original_filename>


Это используется для определения владельца файла.

---

## Обработка и защита файлов

При загрузке PDF-файла выполняются следующие шаги:
1. файл сжимается;
2. данные шифруются;
3. оригинальное содержимое подписывается цифровой подписью.

При просмотре файла:
- данные расшифровываются;
- проверяется цифровая подпись;
- доступ разрешается только при наличии прав.

Если файл повреждён или подпись не проходит проверку, файл не отображается.

---

## Основные маршруты приложения

| Маршрут | Назначение |
|--------|------------|
| `/login` | Вход в систему |
| `/logout` | Выход из системы |
| `/dashboard` | Главная страница пользователя |
| `/files` | Список доступных PDF-файлов |
| `/upload_pdf` | Загрузка PDF |
| `/view_pdf/<safe_name>` | Просмотр PDF-файла |
| `/admin` | Панель администратора |

---

## Запуск проекта

### Установка зависимостей
```bash
pip install -r requirements.txt
### Запуск приложения
python app.py







